/*** QubeStar/QubeControl version: 1.0.0 - Author: I. Hedrich - Licence: MIT ***/
var qubeControlGlobals=[];function QubeControl(obj){if(this.id=null,this.effect="ease-in-out",this.backgroundColor="rgba(255,255,255,.85)",this.spinDurationSeconds=.4,this.sizePx=null==this.sizePx?400:this.sizePx,this.enableEventsWhileSpinning=!1,this.disableUnpresentFaces=!1,this.borderWidth=0,this.borderColor="rgba(0, 0, 0, 1.0)",this.borderStyle="solid",this.boxShadow="inset 0 0 20px rgba(0,0,0,.2)",this.textAlign="center",this.perspectivePx=800,this.perspectiveOrigin=null,this.items=[],this.stepIndex=0,this.endElementContent="",this.isEndingWithExplosion=!0,this.upValues=[],this.downValues=[],this.rightValues=[],this.leftValues=[],"function"!=typeof Object.assign)for(var fld in obj)obj.hasOwnProperty(fld)&&(this[fld]=obj[fld]);else Object.assign(this,obj);var qubeFa={},onEndContent=null;function funcStr(e){var t;return"function"==typeof e&&(e=(t=e.toString()).slice(t.indexOf("{")+1,t.lastIndexOf("}"))),e}this.onSwipe=function(e,t){null==t&&(t="general");var i,n=e,o="";null==n?n="":""!=n&&(n=funcStr(n));var s=t.toLowerCase(),r=!1,e=!1,t=!1;"general"===s?r=!0:"vertical"===s?e=!0:"horizontal"===s&&(t=!0),(r||e||"up"===s)&&(i=n+(o='; var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace();s.pushDirectionValue("up", false);qubeFa.setBottom(s.buildFaceContent(s.items[s.stepIndex]));'),qubeFa.onSwipe(i,"up")),(r||e||"down"===s)&&(i=n+(o='; var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace();s.pushDirectionValue("down", false);qubeFa.setTop(s.buildFaceContent(s.items[s.stepIndex]));'),qubeFa.onSwipe(i,"down")),(r||t||"left"===s)&&(i=n+(o='; var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace();s.pushDirectionValue("left", false);qubeFa.setRight(s.buildFaceContent(s.items[s.stepIndex]));'),qubeFa.onSwipe(i,"left")),(r||t||"right"===s)&&(i=n+(o='; var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace();s.pushDirectionValue("right", false);qubeFa.setLeft(s.buildFaceContent(s.items[s.stepIndex]));'),qubeFa.onSwipe(i,"right")),""===o&&console.error("Choose a valid swipeDirection as parameter for the onSwipe method: up/down/left/right/vertical/horizontal/general.")},this.afterSwipe=function(e,t){null==t&&(t="general");var i,n=e,o="";null==n?n="":""!=n&&(n=funcStr(n));var s=t.toLowerCase(),r=!1,e=!1,t=!1;"general"===s?r=!0:"vertical"===s?e=!0:"horizontal"===s&&(t=!0),(r||e||"up"===s)&&(i=(o='var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace(); s.processItemLocks("up");s.switchFrontFaceTo("bottom");qubeFa.setBottom(null);qubeFa.showFaceInstantly("front");s.handleEnd();')+n,qubeFa.afterSwipe(i,"up")),(r||e||"down"===s)&&(i=(o='var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace(); s.processItemLocks("down");s.switchFrontFaceTo("top");qubeFa.setTop(null);qubeFa.showFaceInstantly("front");s.handleEnd();')+n,qubeFa.afterSwipe(i,"down")),(r||t||"left"===s)&&(i=(o='var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace(); s.processItemLocks("left");s.switchFrontFaceTo("right");qubeFa.setRight(null);qubeFa.showFaceInstantly("front");s.handleEnd();')+n,qubeFa.afterSwipe(i,"left")),(r||t||"right"===s)&&(i=(o='var s = qubeControlGlobals["'+this.id+'"]; var qubeFa = s.getQubeFace(); s.processItemLocks("right");s.switchFrontFaceTo("left");qubeFa.setLeft(null);qubeFa.showFaceInstantly("front");s.handleEnd();')+n,qubeFa.afterSwipe(i,"right")),""===o&&console.error("Choose a valid swipeDirection as parameter for the afterSwipe method: up/down/left/right/vertical/horizontal/general.")},this.initSwiper=function(){qubeControlGlobals[this.id]=this,qubeFa.backgroundColor=this.backgroundColor,qubeFa.spinDurationSeconds=this.spinDurationSeconds,qubeFa.front=this.buildFaceContent(this.items[this.stepIndex],this),qubeFa.init(),qubeFa.enableSwipe(!0,!0,!0),this.onSwipe("","left"),this.afterSwipe("","left"),this.onSwipe("","right"),this.afterSwipe("","right"),this.onSwipe("","down"),this.afterSwipe("","down"),this.onSwipe("","up"),this.afterSwipe("","up")},this.buildFaceContent=function(e){var t,i="",i=this.items.length<=this.stepIndex?this.endElementContent:e instanceof Object?(t=null!=e.value?e.value:"",null==e.content?t:e.content):e;return'<div id="qube_'+this.id+"_step"+this.stepIndex+'" class="qubeControl">'+i+"</div>"},this.handleEnd=function(){this.items.length<=this.stepIndex&&(this.isEndingWithExplosion?qubeFa.explode():qubeFa.stopSwipe=!0,null!=onEndContent&&""!=onEndContent&&eval(onEndContent))},this.processItemLocks=function(e){var t=null;try{t=this.items[this.stepIndex]}catch(e){return}null!=t&&(t.lockUp?qubeFa.stopSwipeUp=!0:qubeFa.stopSwipeUp=!1,t.lockDown?qubeFa.stopSwipeDown=!0:qubeFa.stopSwipeDown=!1,t.lockLeft?qubeFa.stopSwipeLeft=!0:qubeFa.stopSwipeLeft=!1,t.lockRight?qubeFa.stopSwipeRight=!0:qubeFa.stopSwipeRight=!1)},this.onEnd=function(e){var t;"function"==typeof e&&(e=(t=e.toString()).slice(t.indexOf("{")+1,t.lastIndexOf("}"))),onEndContent=e},this.init=function(){"undefined"!=typeof QubeFace?null!=this.id&&""!==this.id?0!=this.items.length?(qubeFa=new QubeFace(this),this.initSwiper(),this.processItemLocks(null)):console.error("No QubeControl item(s) found. Define one or more items on object instantiation with 'items', e.g.: new QubeControl({id:'myId', items:['Hi!', 'Step2']})"):console.error("No QubeControl ID was found. Define the element ID of a QubeControl object to solve the problem."):console.error("QubeFace library not found. Import the QubeFace library before you import the QubeControl library.")},this.init(),this.setFront=function(e){qubeFa.setFront(e)},this.setRight=function(e){qubeFa.setRight(e)},this.setBack=function(e){qubeFa.setBack(e)},this.setLeft=function(e){qubeFa.setLeft(e)},this.setTop=function(e){qubeFa.setTop(e)},this.setBottom=function(e){qubeFa.setBottom(e)},this.showFaceInstantly=function(e){qubeFa.showFaceInstantly(e)},this.remove=function(){qubeFa.remove(),qubeControlGlobals[this.id]=void 0},this.clearItems=function(){this.items=[]},this.resetIndex=function(){this.stepIndex=0},this.restart=function(){this.upValues=[],this.downValues=[],this.leftValues=[],this.rightValues=[],this.resetIndex(),qubeFa.fadeIn(),qubeFa.setFront(this.buildFaceContent(this.items[this.stepIndex],this))},this.fadeOut=function(){qubeFa.fadeOut()},this.fadeIn=function(){qubeFa.fadeIn()},this.explode=function(e,t,i,n){qubeFa.explode(e,t,i,n)},this.getId=function(){return this.id},this.getQubeFace=function(){return qubeFa},this.concatItems=function(e){this.items=this.items.concat(e)},this.stopSwipe=function(e){null==e&&(e=!0),qubeFa.stopSwipe=e},this.stopSwipeX=function(e){null==e&&(e=!0),qubeFa.stopSwipeX=e},this.stopSwipeY=function(e){null==e&&(e=!0),qubeFa.stopSwipeY=e},this.stopSwipeRight=function(e){null==e&&(e=!0),qubeFa.stopSwipeRight=e},this.stopSwipeLeft=function(e){null==e&&(e=!0),qubeFa.stopSwipeLeft=e},this.stopSwipeUp=function(e){null==e&&(e=!0),qubeFa.stopSwipeUp=e},this.stopSwipeDown=function(e){null==e&&(e=!0),qubeFa.stopSwipeDown=e},this.skipToNext=function(e){this.spinToNext(e,!0)},this.spinToNext=function(e,t){var i,n,e=e,t=t;this.stepIndex+1>this.items.length||(n=this,qubeFa.actLock||(null==t&&(t=!1),"down"===e?(i=1,qubeFa.spinToTop(),this.pushDirectionValue("down",t),qubeFa.setTop(this.buildFaceContent(this.items[this.stepIndex]))):"up"===e?(i=2,qubeFa.spinToBottom(),this.pushDirectionValue("up",t),qubeFa.setBottom(this.buildFaceContent(this.items[this.stepIndex]))):"right"===e?(i=3,qubeFa.spinToLeft(),this.pushDirectionValue("right",t),qubeFa.setLeft(this.buildFaceContent(this.items[this.stepIndex]))):(i=4,qubeFa.spinToRight(),this.pushDirectionValue("left",t),qubeFa.setRight(this.buildFaceContent(this.items[this.stepIndex]))),setTimeout(function(){1===i?(n.processItemLocks("down"),n.switchFrontFaceTo("top"),qubeFa.setTop(null)):2===i?(n.processItemLocks("up"),n.switchFrontFaceTo("bottom"),qubeFa.setBottom(null)):3===i?(n.processItemLocks("right"),n.switchFrontFaceTo("left"),qubeFa.setLeft(null)):4===i&&(n.processItemLocks("left"),n.switchFrontFaceTo("right"),qubeFa.setRight(null)),qubeFa.showFaceInstantly("front"),n.handleEnd()},1e3*this.spinDurationSeconds)))},this.switchFrontFaceTo=function(e){var t="",i=e,e=document.querySelector("#"+this.id+" .qube-"+i);null!=e?t=e.innerHTML:"top"===i?t=qubeFa.top:"bottom"===i?t=qubeFa.bottom:"right"===i?t=qubeFa.right:"left"===i&&(t=qubeFa.left),qubeFa.setFront(t)},this.getItemIndex=function(e){for(var t,i=this.items.length,n=0;n<i;n++)if(this.items[n].itemId===e){t=n;break}return t},this.resize=function(e){this.sizePx=e,qubeFa.resize(e)},this.pushDirectionValue=function(directionName,isSkipping){var dn=directionName,s=this,item=null,v=null;try{item=s.items[s.stepIndex]}catch(e){return}null!=item&&(null==isSkipping||isSkipping||(v=item instanceof Object?item.value:item,null!=v&&("up"===dn?s.upValues.push(v):"down"===dn?s.downValues.push(v):"right"===dn?s.rightValues.push(v):"left"===dn&&s.leftValues.push(v))),"up"===dn&&null!=item.onUp?eval(funcStr(item.onUp)):"down"===dn&&null!=item.onDown?eval(funcStr(item.onDown)):"right"===dn&&null!=item.onRight?eval(funcStr(item.onRight)):"left"===dn&&null!=item.onLeft&&eval(funcStr(item.onLeft)),"up"===dn&&null!=item.ifUpThenItemId?this.stepIndex=s.getItemIndex(item.ifUpThenItemId):"down"===dn&&null!=item.ifDownThenItemId?this.stepIndex=s.getItemIndex(item.ifDownThenItemId):"right"===dn&&null!=item.ifRightThenItemId?this.stepIndex=s.getItemIndex(item.ifRightThenItemId):"left"===dn&&null!=item.ifLeftThenItemId?this.stepIndex=s.getItemIndex(item.ifLeftThenItemId):"up"===dn&&null!=item.ifUpThenIndex?this.stepIndex=item.ifUpThenIndex:"down"===dn&&null!=item.ifDownThenIndex?this.stepIndex=item.ifDownThenIndex:"right"===dn&&null!=item.ifRightThenIndex?this.stepIndex=item.ifRightThenIndex:"left"===dn&&null!=item.ifLeftThenIndex?this.stepIndex=item.ifLeftThenIndex:this.stepIndex++)}}function QubeItem(e){if(this.itemId=null,this.content=null,this.value=null,this.lockUp=!1,this.lockLeft=!1,this.lockRight=!1,this.lockDown=!1,this.ifUpThenItemId=null,this.ifLeftThenItemId=null,this.ifRightThenItemId=null,this.ifDownThenItemId=null,this.ifUpThenIndex=null,this.ifLeftThenIndex=null,this.ifRightThenIndex=null,this.ifDownThenIndex=null,this.onUp=function(){},this.onLeft=function(){},this.onRight=function(){},this.onDown=function(){},this.up=null,this.left=null,this.right=null,this.down=null,this.holdDirectionContent=!1,"function"!=typeof Object.assign)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);else Object.assign(this,e)}var isQubeStarCssAdded=!1,qubeStarGlobals=[];function QubeStar(obj){if(this.qubeControl=null,this.id=null,this.arrowColor="rgba(144, 238, 144, 0.5)",this.arrowFocusColor="#B0E0E6",this.upLabel="",this.downLabel="",this.rightLabel="",this.leftLabel="",this.isUpLabelCentric=!1,this.isDownLabelCentric=!1,this.isRightLabelCentric=!1,this.isLeftLabelCentric=!1,this.boardSizePx=null,this.arrowWidthPercent=null,this.arrowHeightPercent=null,this.arrowTranslate=null,this.hasClickableArrows=!0,this.isPagingMode=!1,"function"!=typeof Object.assign)for(var fld in obj)obj.hasOwnProperty(fld)&&(this[fld]=obj[fld]);else Object.assign(this,obj);var csz,qubeFa={};function qSel(e){return document.querySelector(e)}function qSelAll(e){return document.querySelectorAll(e)}function dirInterpreterHead(e){return';var e = null, eo = null, s = qubeControlGlobals["'+e+'"]; var si = s.stepIndex + 1; if(s.items != null && s.items.length == si){ si = 0; } '}function directionDisablingInterpreter(e,t,i){e=e.charAt(0).toUpperCase()+e.slice(1);return';e = document.querySelector("#'+t+" .qubeArrow"+e+'Wrap .qubeStarLabel"); eo = document.querySelector("#'+t+" .qubeArrow"+e+'Overlay");if(e != null && s.items.length > 0 && s.items[si] != null && s.items[si].lock'+e+" != null && s.items[si].lock"+e+'){ e.disable = true; e.style.visibility="hidden"; var dArrow = document.querySelector("#'+t+" .qubeArrow"+e+'"); if(dArrow!=null){ dArrow.style.visibility = "hidden"; }  if(eo != null){ eo.style.cursor="default"; }} else if(e != null){ e.disable = false; e.style.visibility="visible"; var dArrow = document.querySelector("#'+t+" .qubeArrow"+e+'"); if(dArrow != null){ dArrow.style.visibility = "visible"; } if(eo != null){ eo.style.cursor="pointer"; } }'}function directionContentInterpreter(e,t,i){return';e = document.querySelector("#'+t+" .qubeArrow"+(e.charAt(0).toUpperCase()+e.slice(1))+'Wrap .qubeStarLabel"); if(e != null && s.items.length > 0 && s.items[si] != null && s.items[si].'+e+" != null){ e.innerHTML = s.items[si]."+e+'; if(s.items[si].holdDirectionContent){ qubeStarGlobals["'+t+'"].'+e+"Label = s.items[si]."+e+';} } else if(e != null){ e.innerHTML = qubeStarGlobals["'+t+'"].'+e+"Label; }"}function dirDisablingCheckAll(e,t){return dirInterpreterHead(t)+directionDisablingInterpreter("up",e,t)+directionDisablingInterpreter("down",e,t)+directionDisablingInterpreter("left",e,t)+directionDisablingInterpreter("right",e,t)}function dirContentCheckAll(e,t){return';var e = null, s = qubeControlGlobals["'+t+'"]; var si = s.stepIndex; '+directionContentInterpreter("up",e,t)+directionContentInterpreter("down",e,t)+directionContentInterpreter("left",e,t)+directionContentInterpreter("right",e,t)}function triangleSvg(e,t,i,n,o,s,r){return'<polygon class="'+e+'" points="'+t+'" fill="'+i+'" transform="translate('+n+","+o+") rotate("+s+')" onclick="'+r+'" />'}function getArrowOverlayAction(e,t,i){return"document.querySelector('#"+e+" .qubeArrow"+i+"Wrap .qubeStarLabel').focus(); qubeStarGlobals['"+e+"'].spinToNext('"+t+"');"}function renderTextDiv(e,t,i,n,o,s,r,l,u){return'<div class="'+n+"Wrap"+(u?" qubeVerticalCenter":"")+'" style="'+l+'"><button class="qubeStarLabel" onclick="qubeStarGlobals[\''+e+"'].spinToNext('"+i+"');\"  onfocus=\"document.querySelectorAll('#"+e+" ."+n+"')[0].setAttribute('fill','"+s+"');\"  onblur=\"document.querySelectorAll('#"+e+" ."+n+"')[0].setAttribute('fill','"+o+"');\">"+r+"</button></div>"}function wrapLblDiv(e){return'<div style="width:100%;height:100%;position:absolute;">'+e+"</div>"}function hideArrow(e,t,i){var n=qSel("#"+t+" ."+e);null!=n&&(n.style.visibility="hidden"),!i||null!=(e=qSel("#"+t+" ."+e+"Overlay"))&&(e.style.cursor="default")}function isArrowHidden(e,t){return"hidden"===qSel("#"+t+" ."+e).style.visibility}this.onSwipe=function(e,t){null==t&&(t="general");var i=t.toLowerCase(),n="",o=this.qubeControl.id;"up"!==i&&"down"!==i&&"right"!==i&&"left"!==i||(n=dirDisablingCheckAll(this.id,o)),e=n+";"+e,this.qubeControl.onSwipe(e,t)},this.afterSwipe=function(e,t){null==t&&(t="general");var i=t.toLowerCase(),n="",o=this.qubeControl.id;"up"!==i&&"down"!==i&&"right"!==i&&"left"!==i||(n=dirContentCheckAll(this.id,o)),e=n+";"+e,this.qubeControl.afterSwipe(e,t)},this.skipToNext=function(e){this.qubeControl.spinToNext(e,!0)},this.spinToNext=function(spinDirection,isSkipping){null==spinDirection&&(spinDirection="left");var sp=spinDirection.toLowerCase(),qcID=this.qubeControl.id,a="",b="";null==isSkipping&&(isSkipping=!1),"up"===sp&&qubeFa.stopSwipeUp||"down"===sp&&qubeFa.stopSwipeDown||"left"===sp&&qubeFa.stopSwipeLeft||"right"===sp&&qubeFa.stopSwipeRight||(a=dirDisablingCheckAll(this.id,qcID),eval(a),b=dirContentCheckAll(this.id,qcID),setTimeout(function(){eval(b)},1e3*this.qubeControl.spinDurationSeconds),this.qubeControl.spinToNext(sp,isSkipping))},this.buildBoardCss=function(){null!=qubeFa&&(qubeFa.addHeadCss(" .qubeStarRow { text-align:center; width:100%; position:relative; } .qubeStarCenter { display: inline-block; } .qubeVerticalCenter { margin: 0; position: absolute; top: 50%; transform: translateY(-50%); } .qubeStarLabel { margin: 0 2px; user-select: none; -webkit-touch-callout: none; user-drag: none; } .qubeArrowUpOverlay, .qubeArrowDownOverlay, .qubeArrowLeftOverlay, .qubeArrowRightOverlay { cursor:pointer; user-select: none; -webkit-touch-callout: none; user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); } button.qubeStarLabel { background-color:transparent;color: inherit;border: none;padding: 0;font:inherit;cursor:pointer;text-align:inherit;user-drag:none;outline:inherit; } button.qubeStarLabel:hover { outline-style:dotted; outline-color: inherit; outline-width: 2px; outline-offset: 0; } .qubeStar .qubeControl { height:inherit;width:inherit;display:table-cell;vertical-align: middle;text-align:center;margin:auto; } "),isQubeStarCssAdded=!0)},this.renderStarSvg=function(){var e=this.boardSizePx,t=this.arrowColor,i=0,n=null==this.arrowWidthPercent?100:this.arrowWidthPercent,o=null==this.arrowHeightPercent?100:this.arrowHeightPercent,s=null==this.arrowTranslate?0:this.arrowTranslate,r=e/3,l=null==n||n==r?0:(r-n*(r/100))/2,u=null==o||o==r?0:r-o*(r/100);null!=s&&(i=s);var a=e/3,h=a,b=a,d=0-i,c=0-i,p=2*a,f=e+i,n=a,o=2*a,r=e+i,s=0+l+","+a+" "+a/2+","+(0+u)+" "+(h-=l)+","+a;i=triangleSvg("qubeArrowUp",s,t,b,d,0),u=triangleSvg("qubeArrowLeft",s,t,c,p,270),l=triangleSvg("qubeArrowRight",s,t,f,n,90),h=triangleSvg("qubeArrowDown",s,t,o,r,180),qSel("#"+this.id+" .qubeStarLayer1").innerHTML='<svg height="'+e+'" width="'+e+'">'+i+u+l+h+"</svg>",this.hasClickableArrows&&(a="transparent",t=this.isPagingMode,i=triangleSvg("qubeArrowUpOverlay",s,a,b,d,0,getArrowOverlayAction(this.id,t?"down":"up","Up")),u=triangleSvg("qubeArrowLeftOverlay",s,a,c,p,270,getArrowOverlayAction(this.id,t?"right":"left","Left")),l=triangleSvg("qubeArrowRightOverlay",s,a,f,n,90,getArrowOverlayAction(this.id,t?"left":"right","Right")),h=triangleSvg("qubeArrowDownOverlay",s,a,o,r,180,getArrowOverlayAction(this.id,t?"up":"down","Down")),null!=(t=qSel("#"+this.id+" .qubeStarLayer3"))&&(t.innerHTML='<svg height="'+e+'" width="'+e+'">'+i+u+l+h+"</svg>"))},this.renderStarBoard=function(){var e=document.getElementById(this.qubeControl.id).parentElement,t=this.boardSizePx,i=Number((t/3).toFixed(2)),n=(i-csz)/2,o=n-14.6,s=Number(((t-csz)/2/t*100).toFixed(2)),r=i-(csz-i)/2,l=e.outerHTML,u='<div id="'+this.id+'" class="qubeStar" style="width:'+t+"px; height:"+t+'px;">',a='<div class="qubeControlInterface" style="position:relative;top:'+o+'px;z-index:1;" ontouchstart="'+("var qSL_btns=document.querySelectorAll('#"+this.id+" .qubeStarLabel'); var iqSL=0; for(iqSL=0;iqSL<qSL_btns.length;iqSL++){qSL_btns[iqSL].blur();}")+'">',h='<div class="qubeStarCenter" style="width:'+csz+'px;">',b='<div class="qubeStarLayer1" style="width:'+t+"px;height:"+t+'px;position:absolute;"></div>',d='<div class="qubeStarLayer2" style="width:'+t+"px;height:"+t+'px;position:absolute;">',c=this.hasClickableArrows?'<div class="qubeStarLayer3" style="width:'+t+"px;height:"+t+"px;position:absolute;top:-"+r+"px;left:-"+r+'px;"></div>':"",p='<div class="qubeStarRow" style="height:'+i+'px;">',f="</div>",w=8-n,q="margin-bottom:"+w+"px;bottom:0;",g="margin-top:"+w+"px;",S="text-align:left;",m="text-align:right;",v="text-align:center;";this.isUpLabelCentric&&(q="top:50%;"),this.isDownLabelCentric&&(g="top:25%;"),this.isRightLabelCentric&&(S=v),this.isLeftLabelCentric&&(m=v);var F,x=this.qubeControl.id,C=this.arrowColor,I=this.arrowFocusColor,o=s,t=this.hasClickableArrows,r=this.qubeControl.items,i=null!=r&&0<r.length&&null!=r[0];i&&(F=r[0]),i&&F.holdDirectionContent&&(null!=F.up&&(this.upLabel=F.up),null!=F.down&&(this.downLabel=F.down),null!=F.right&&(this.rightLabel=F.right),null!=F.left&&(this.leftLabel=F.left));n=i&&null!=F.up?F.up:this.upLabel,w=i&&null!=F.down?F.down:this.downLabel,v=i&&null!=F.right?F.right:this.rightLabel,s=i&&null!=F.left?F.left:this.leftLabel;i&&(F.lockUp&&(n=""),F.lockDown&&(w=""),F.lockRight&&(v=""),F.lockLeft&&(s=""));r=this.isPagingMode,q=wrapLblDiv(renderTextDiv(this.id,x,r?"down":"up","qubeArrowUp",C,I,n,"width:100%;position:absolute;"+q,!1)),m=renderTextDiv(this.id,x,r?"right":"left","qubeArrowLeft",C,I,s,"width:"+o+"%;"+m,!0),S=renderTextDiv(this.id,x,r?"left":"right","qubeArrowRight",C,I,v,"width:"+o+"%;margin-left:"+(100-o)+"%;"+S,!0),g=wrapLblDiv(renderTextDiv(this.id,x,r?"up":"down","qubeArrowDown",C,I,w,"width:100%;text-align:center;position:relative;"+g,!1)),f=u+b+d+p+q+f+p+(wrapLblDiv(m+S)+h+a+c+l+"</div></div>")+f+p+g+f+"</div></div>";e.outerHTML=f,this.renderStarSvg(),i&&(F.lockUp&&hideArrow("qubeArrowUp",this.id,t),F.lockDown&&hideArrow("qubeArrowDown",this.id,t),F.lockRight&&hideArrow("qubeArrowRight",this.id,t),F.lockLeft&&hideArrow("qubeArrowLeft",this.id,t)),qubeFa.enableSwipe(!0,!0,!0)},this.init=function(){"undefined"!=typeof QubeFace?void 0!==QubeControl?null!=this.qubeControl?(this.qubeControl instanceof Object&&!(this.qubeControl instanceof QubeControl)&&(this.qubeControl=new QubeControl(this.qubeControl)),null!=this.id&&this.id!==this.qubeControl.id||(this.id=this.qubeControl.id+"_qubeStar"),this.boardSizePx=null==this.boardSizePx?3*this.qubeControl.sizePx:this.boardSizePx,csz=this.qubeControl.sizePx,qubeFa=this.qubeControl.getQubeFace(),isQubeStarCssAdded||this.buildBoardCss(),csz>this.boardSizePx-50?console.error("The cube size is to big for the QubeStar board. Define a bigger boardSizePx or a smaller QubeControl sizePx."):(this.renderStarBoard(),this.onSwipe("","left"),this.afterSwipe("","left"),this.onSwipe("","right"),this.afterSwipe("","right"),this.onSwipe("","down"),this.afterSwipe("","down"),this.onSwipe("","up"),this.afterSwipe("","up"),qubeStarGlobals[this.id]=this)):console.error("No QubeControl found. Define a QubeControl object for this QubeStar."):console.error("QubeControl library not found. Import the QubeControl library before you import the QubeStar library."):console.error("QubeFace library not found. Import the QubeFace library before you import the QubeControl library.")},this.init(),this.resize=function(e,t){null==t&&(t=!0);var i=this.qubeControl.sizePx,n=this.id,o=e,s=this.hasClickableArrows,r=this.boardSizePx,l=(this.boardSizePx=o)/r*100,u=!1,a=!1,e=!1,r=!1;isArrowHidden("qubeArrowUp",n)&&(u=!0),isArrowHidden("qubeArrowDown",n)&&(a=!0),isArrowHidden("qubeArrowLeft",n)&&(e=!0),isArrowHidden("qubeArrowRight",n)&&(r=!0),this.renderStarSvg(),u&&hideArrow("qubeArrowUp",n,s),a&&hideArrow("qubeArrowDown",n,s),e&&hideArrow("qubeArrowLeft",n,s),r&&hideArrow("qubeArrowRight",n,s),t&&(csz=l/100*i,this.qubeControl.resize(csz));var h=Number((o/3).toFixed(2)),s=(h-csz)/2,t=s-14.6,l=8-s,i=h-(csz-h)/2,s=document.getElementById(n);if(null!=s){s.style.width=o+"px",s.style.height=o+"px",qSel("#"+n+" .qubeControlInterface").style.top=t+"px",qSel("#"+n+" .qubeStarCenter").style.width=csz+"px";t=qSel("#"+n+" .qubeStarLayer1");t.style.width=o+"px",t.style.height=o+"px";t=qSel("#"+n+" .qubeStarLayer2");t.style.width=o+"px",t.style.height=o+"px";for(var b=qSelAll("#"+n+" .qubeStarRow"),d=0;d<3;d++)b[d].style.height=h+"px";this.isUpLabelCentric||(qSel("#"+n+" .qubeArrowUpWrap").style.marginBottom=l+"px"),this.isDownLabelCentric||(qSel("#"+n+" .qubeArrowDownWrap").style.marginTop=l+"px"),!this.hasClickableArrows||null!=(n=qSel("#"+n+" .qubeStarLayer3"))&&(n.style.width=o+"px",n.style.height=o+"px",n.style.top="-"+i+"px",n.style.left="-"+i+"px")}}}